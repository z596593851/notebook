# 索引页格式
![[Pasted image 20220201214804.png]]
当从索引树中找到叶子节点的索引页时，页内的数据也是按照链表结构组织的。为了能在页内进行二分查找，mysql将一页内的数据进行分组，并将每组的最后一条数据抽取到槽内，作为二分查找的索引。其中最小记录自成一组，最大记录所在的组有1-8条数据，其余组有4-8条记录。这样通过二分查找定位到某一组，最后再在该组内进行遍历查找。
![[Pasted image 20220201214903.png]]
# 记录格式
![[Pasted image 20220202004656.png]]
![[Pasted image 20220201213712.png]]
变长字段长度列表：像varchar这种字段，可大可小，mysql会存储哪些字段是变长的，以及有多大；
null值列表：存储null值的列；
delete mask：被删除的列；
n owned：当前组有多少条记录数，只有当前组的最后一条记录会存；
heap no：本条记录在当前页中的位置。最小、最大记录的编号为0、1，其他记录从2开始；
reocrd type：是否叶子节点，0-叶子节点，1-中间节点，2-最大记录，3-最小记录；
next record：当前页内的下一条记录。

如果一条数据太大，超过了一页大小，会跨页存。compact会在当前页存前768B，然后存一个指向其他页的指针；后两种只在当前页存一个指针，指向其他页。

