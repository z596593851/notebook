# 底层架构
![[Pasted image 20220127165939.png]]

缓存：server层的缓存会用sql为id，查询结果为value进行缓存，但是每当表有更新，就会删除所有缓存。

binlog： binlog在server层，有Statement level和Row level两种模式，前者会记录所有执行过的sql，后者则不关心sql，而是记录数据的前后变化。

# 页、区、段
页号是用4B空间存储的，也就是最多能有2的32次方个页，每页16KB，也就是mysql一个表能有16KB\*2^32=64TB的数据。

![[Pasted image 20220201221842.png]]

一个区的大小是1MB，区的目的就是让该区内所有的页都在一片连续的物理存储空间内，达成连续I/O的目的。

一个索引树的叶子节点在一个段内，非叶子节点在另一个段内